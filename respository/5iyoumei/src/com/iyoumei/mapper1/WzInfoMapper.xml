<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wuwaikeji.luyou.persistence.WzInfoMapper">
	<resultMap type="WzInfoDomain" id="domain">
		<result column="id" property="id" />
		<result column="car_id" property="carId" />
		<result column="status" property="status" />
		<result column="fen" property="fen" />
		<result column="officer" property="officer" />
		<result column="occur_date" property="occurDate" />
		<result column="occur_area" property="occurArea" />
		<result column="city_id" property="cityId" />
		<result column="province_id" property="provinceId" />
		<result column="code" property="code" />
		<result column="info" property="info" />
		<result column="money" property="money" />
		<result column="city_name" property="cityName" />
	</resultMap>
	<!-- 判断违章信息是否已经在数据库中存在 -->
	<select id="isWzInfoExist" resultType="_int">
		SELECT COUNT(*) FROM wz_info WHERE id=#{id} and car_id=#{carId}
	</select>
	<!-- 保存违章记录 -->
	<insert id="insert">
		insert into wz_info
		(uuid,id,car_id,status,fen,officer,occur_date,occur_area,city_id,province_id,code,info,money,city_name)
		values(#{uuid},#{id},#{carId},#{status},#{fen},#{officer},#{occurDate},#{occurArea},#{cityId},#{provinceId},#{code},#{info},#{money},#{cityName})
	</insert>
	<!-- 更新违章信息（只更新处理标志） -->
	<update id="update">
		update wz_info set status=#{status} where id=#{id} and car_id=#{carId}
	</update>
</mapper>